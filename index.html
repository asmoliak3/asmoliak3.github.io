<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pushwoosh Web Push Demo</title>

  <script async src="//cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js"></script>

  <script>
    var Pushwoosh = Pushwoosh || [];
    Pushwoosh.push(['init', {
      logLevel: 'info',                           
      applicationCode: '9627A-C956D',             
      apiToken: 'YOtYgEuAX00Dgs81J6EkY1MFBvQnHOGb2GzRy6MjNaaBHuILH2fdqrE7UcnmICvYDAf24vLAOWNvHkH4GQqd5',                 
      safariWebsitePushID: 'https://asmoliak3.github.io', 
      autoSubscribe: false,                       
      subscribeWidget: {
        enable: true                               
      }
    }]);

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/pushwoosh-service-worker.js')
          .then(function(reg) {
            console.log('Service worker for Pushwoosh зарегистрирован:', reg);
          })
          .catch(function(err) {
            console.error('Не удалось зарегистрировать service worker:', err);
          });
      });
    }
  </script>
</head>
<body>
  <h1>Pushwoosh Web Push Demo</h1>

  <button id="subscribe-btn">Подписаться на уведомления</button>

  <script>
    document.getElementById('subscribe-btn').addEventListener('click', function() {
      Pushwoosh.push(['subscribe']);
    });
  </script>
</body>
</html>
