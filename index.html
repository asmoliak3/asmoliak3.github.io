<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Pushwoosh Web Push Demo</title>

  <script async src="//cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js"></script>

  <script>
    var Pushwoosh = Pushwoosh || [];
    Pushwoosh.push(['init', {
      logLevel: 'info',
      applicationCode: '9627A-C956D',
      apiToken: 'tYgEudA4O0Dgs81J6EkY1MF8vQnHOGb2GzRy6MjNaaBHuILH2fdqrE7UcnmICvYDaf24vLAOWNvHkh4G0qd5',
      safariWebsitePushID: 'web.com.example.domain',
      defaultNotificationTitle: 'Pushwoosh Demo',
      defaultNotificationImage: 'https://asmoliak3.github.io/img/logo-medium.png',
      autoSubscribe: true,
      subscribeWidget: { enable: false },
      userId: '',
      tags: {}
    }]);

    Pushwoosh.push(['onLoad', function(api) {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/pushwoosh-service-worker.js')
          .then(function(reg) {
            console.log('Service worker для Pushwoosh зарегистрирован:', reg);
          })
          .catch(function(err) {
            console.error('Не удалось зарегистрировать service worker:', err);
          });
      }

      api.onReady(function() {
        console.log('Pushwoosh Web SDK инициализирован');
      });
    }]);
  </script>
</head>
<body>
  <h1>Pushwoosh Web Push Demo</h1>
</body>
</html>
